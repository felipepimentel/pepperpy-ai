---
title: Example Code Best Practices
description: USE WHEN trabalhando com exemplos de código no diretório /examples
globs: "examples/**/*.py"
priority: 800
---

# Boas Práticas para Código de Exemplo

## Visão Geral

Esta regra define práticas recomendadas para criar e manter código de exemplo na pasta `/examples` do projeto PepperPy. Os exemplos são críticos para demonstrar o uso correto da biblioteca e devem ser mantidos como modelos de qualidade para os usuários.

## Princípios Fundamentais

1. **Minimalista** - Exemplos devem ser curtos e focados em demonstrar apenas um recurso ou padrão de uso específico
2. **Auto-suficiente** - Exemplos devem funcionar com configuração mínima (usando .env)
3. **Bem documentado** - Cada exemplo deve incluir docstrings e comentários explicativos
4. **Seguir API fluente** - Exemplos devem usar a API fluente do PepperPy corretamente
5. **Criar apenas quando solicitado** - Exemplos só devem ser criados quando explicitamente solicitados pelo usuário
6. **Representar casos reais** - Exemplos devem ser completos e robustos, representando casos de uso reais

## Preferências do Usuário

> **IMPORTANTE:** O usuário prefere exemplos completos e robustos que representem casos de uso reais. Exemplos devem ser criados APENAS quando explicitamente solicitados. Não crie exemplos automaticamente ou como parte de outras tarefas sem uma solicitação específica.

## Práticas Recomendadas

### Configuração do Ambiente

✅ **CORRETO**: Usar variáveis de ambiente de um arquivo `.env`
```python
# CORRETO - Usar .env para configuração
# Comentário explicando as variáveis de ambiente necessárias
# PEPPERPY_LLM__PROVIDER=openai
# PEPPERPY_LLM__OPENAI__API_KEY=sk-...
```

❌ **ERRADO**: Definir variáveis de ambiente no código
```python
# ERRADO - Definir API keys diretamente no código
os.environ["PEPPERPY_LLM__OPENAI__API_KEY"] = "sk-123456789"
```

### Inicialização de Providers

✅ **CORRETO**: Usar a API fluente para inicialização
```python
# CORRETO - Usar a API fluente sem provider_type
pepperpy_instance = (
    pepperpy.PepperPy()
    .with_llm()           # Usa variáveis de ambiente
    .with_embeddings()    # Configuração automática
    .with_rag()           # Configuração automática
)
```

❌ **ERRADO**: Criar providers diretamente
```python
# ERRADO - Criar providers diretamente
from pepperpy.llm.providers import OpenAIProvider
provider = OpenAIProvider(api_key="sk-123456789")
```

### Gerenciamento de Logging

✅ **CORRETO**: Saída simples com `print()`
```python
# CORRETO - Usar print para saída de exemplo
print(f"Resposta: {response}")
```

❌ **ERRADO**: Configuração de logging no exemplo
```python
# ERRADO - Configurar logging em exemplos
import logging
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)
logger.info("Resposta: %s", response)
```

### Gerenciamento de I/O

✅ **CORRETO**: Deixar a biblioteca gerenciar I/O
```python
# CORRETO - Deixar a biblioteca gerenciar diretórios
pepper.with_rag()  # Biblioteca cria diretórios conforme necessário
```

❌ **ERRADO**: Gerenciar I/O manualmente
```python
# ERRADO - Criar diretórios manualmente
data_dir = Path("data/chroma")
data_dir.mkdir(parents=True, exist_ok=True)
```

## Exemplo Ideal

```python
"""Exemplo demonstrando o uso de RAG com PepperPy."""

import asyncio

import pepperpy

# Dados de exemplo
data = {
    "title": "Python",
    "description": "Python é uma linguagem de programação interpretada.",
    "features": ["Fácil de aprender", "Sintaxe clara", "Muitas bibliotecas"]
}

async def main() -> None:
    """Executar o exemplo."""
    # Inicializar PepperPy com API fluente
    # Configuração vem de variáveis de ambiente (.env)
    pepper = (
        pepperpy.PepperPy()
        .with_llm()
        .with_embeddings()
        .with_rag()
    )

    # Usar gerenciador de contexto assíncrono
    async with pepper:
        # Aprender dos dados
        await pepper.learn(data)

        # Fazer perguntas
        question = "O que é Python?"
        print(f"\nPergunta: {question}")
        response = await pepper.ask(question)
        print(f"Resposta: {response}")

if __name__ == "__main__":
    # Executar o exemplo
    # Variáveis de ambiente necessárias no arquivo .env:
    # PEPPERPY_LLM__PROVIDER=openai
    # PEPPERPY_EMBEDDINGS__PROVIDER=local
    # PEPPERPY_RAG__PROVIDER=chroma
    asyncio.run(main())
```

## Lista de Verificação de Conformidade

Para garantir que seus exemplos sigam estas práticas recomendadas, verifique:

- [ ] Exemplo usa a API fluente do PepperPy
- [ ] Configuração vem exclusivamente de variáveis de ambiente
- [ ] Não há criação direta de providers
- [ ] Não há configuração de logging
- [ ] Não há gerenciamento manual de I/O
- [ ] Exemplo inclui comentários explicativos
- [ ] Exemplo funciona sem parâmetros explícitos em `with_*` methods
- [ ] Exemplo representa um caso de uso real e robusto
- [ ] Exemplo foi criado apenas após solicitação explícita 