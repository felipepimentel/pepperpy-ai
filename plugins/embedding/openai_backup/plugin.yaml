name: embedding/openai
version: 0.1.0
description: OpenAI Embeddings provider for PepperPy
author: PepperPy Team

plugin_type: embedding
category: provider
provider_name: openai
entry_point: provider.OpenAIEmbeddingsProvider

config_schema:
  type: object
  properties:
    api_key:
      type: string
      description: OpenAI API key
      env_var: PEPPERPY_EMBEDDING__OPENAI_API_KEY
    model:
      type: string
      description: Model to use for embeddings
      default: text-embedding-3-small
    dimensions:
      type: integer
      description: Output embedding dimensions 
      default: 256
      minimum: 64
      maximum: 3072
    batch_size:
      type: integer
      description: Maximum number of texts to embed in a single batch
      default: 100

default_config:
  model: text-embedding-3-small
  dimensions: 256
  batch_size: 100

# Examples for testing the plugin
examples:
  - name: "single_embedding"
    description: "Generate embedding for a single text"
    input:
      task: "embed"
      text: "This is a sample text for embedding"
    expected_output:
      status: "success"
      
  - name: "batch_embedding"
    description: "Generate embeddings for multiple texts"
    input:
      task: "embed_batch"
      texts: ["First text", "Second text", "Third text"]
    expected_output:
      status: "success"

metadata:
  provider_url: https://platform.openai.com/docs/guides/embeddings
  requires_api_key: true
  models:
    - text-embedding-3-small
    - text-embedding-3-large
    - text-embedding-ada-002
