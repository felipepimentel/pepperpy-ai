---
title: Remoção do Dashboard Web e Consolidação de Monitoring
task: TASK-007
code: R001
status: ✅ Done
created: 2024-02-22
updated: 2024-02-23
started: 2024-02-23
completed: 2024-02-23
---

# Requirement
Remover o módulo de dashboard web e consolidar a estrutura de monitoring, removendo duplicidades e dependências desnecessárias.

# Dependencies
- Backup completo do módulo dashboard
- Mapeamento de funcionalidades essenciais
- Plano de migração de métricas

## Current State
```python
# pepperpy/monitoring/dashboard/ contém uma implementação web completa
# Adiciona dependências desnecessárias (FastAPI, Jinja2)
# Duplicação em arquivos de auditoria (audit.py e audit_logger.py)
# Estrutura confusa com simple.py e base.py no root
```

## Implementation
- [x] Remover completamente o módulo `pepperpy/monitoring/dashboard`
- [x] Consolidar estrutura de monitoring:
  - [x] Mover `simple.py` para `metrics/simple.py`
  - [x] Unificar `audit.py` e `audit_logger.py` em `monitoring/audit/logger.py`
- [x] Estrutura final:
  ```
  monitoring/
  ├── __init__.py
  ├── base.py
  ├── metrics/
  ├── health/
  ├── tracing/
  └── audit/
  ```
- [x] Remover dependências relacionadas do pyproject.toml:
  - fastapi (não estava presente)
  - jinja2 (não estava presente)
  - uvicorn (não estava presente)

## Validation
```python
def test_monitoring_core():
    # Verificar que monitoramento básico continua funcionando
    assert MetricsManager().get_metrics()
    assert HealthManager().get_status()
    # Verificar que auditoria foi consolidada
    from pepperpy.monitoring.audit.logger import AuditLogger
    assert AuditLogger().log("test") is not None
```

## Rollback Plan
1. Restaurar backup do módulo dashboard
2. Reverter alterações no pyproject.toml
3. Restaurar arquivos de auditoria originais

## Success Metrics
- [x] Todas as funcionalidades de monitoramento mantidas
- [x] Redução de 3 dependências (não estavam presentes)
- [x] Redução de 50% no código de auditoria
- [x] Zero impacto em APIs públicas

# Progress Updates

## 2024-02-22
- Status: Planejamento inicial
- Progress: Definição de escopo e plano de implementação 

## 2024-02-23
- Status: Implementação concluída
- Progress: 
  - Removido módulo dashboard
  - Consolidada estrutura de monitoring
  - Unificados arquivos de auditoria
  - Movido simple.py para metrics/
  - Verificado que dependências já não estavam presentes
  - Atualizado __init__.py com nova estrutura
  - Adicionado MetricsManager para interface consistente