[tox]
isolated_build = True
envlist = py312, lint, type, security

[testenv]
deps =
    pytest
    pytest-asyncio
    pytest-cov
commands =
    pytest {posargs:tests}

[testenv:lint]
deps =
    black
    isort
    ruff
commands =
    black pepperpy_ai tests
    isort pepperpy_ai tests
    ruff check pepperpy_ai tests

[testenv:type]
deps =
    mypy
    types-all
commands =
    mypy pepperpy_ai tests

[testenv:security]
deps =
    bandit
commands =
    bandit -r pepperpy_ai -c .bandit 